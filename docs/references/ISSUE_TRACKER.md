# Issue Tracker Seed List

Use this list to open GitHub issues (or Jira tickets) quickly. Each entry has a suggested ID, owner placeholder, and acceptance criteria. Update the **Status** column as work progresses and link to the created issue once it exists.

## Maintenance Checklist

- Add a row only when the work is groomed enough to become a GitHub issue.
- When creating an issue, paste the GitHub link in the **Status** column and note the open/closed state.
- After closing or reprioritising work, reflect the status change here and adjust acceptance criteria if the scope evolves.
- Cross-check this file at the start/end of each session (see `session/current_session.md`) so the backlog stays aligned.

## MVP Implementation Sequence

1. DB-002 – Content versioning workflow hardening (#7).
2. ADM-002 – Concept editor polish + history (#11).
3. MEDIA-001 – Supabase media storage & migrations (#15).
4. MEDIA-002 – Media submission REST surface (#16).
5. MEDIA-003 – Contributor upload UX (#17).
6. MEDIA-004 – Admin moderation queue upgrade (#18).
7. MEDIA-005 – YouTube & external embeds (#19).
8. DB-003 – Media moderation flow integration (#8).
9. ADM-003 – Moderation queue UX (#12).
10. ADM-004 – Notification dispatcher stubs (#13).
11. ADM-005 – Admin analytics event map (#14).
12. LX-004 – Study queue manager (#4).
13. LX-005 – Study session runner (#5).
14. LX-006 – Quiz module foundation (#9).

## Learner Experience

| ID     | Title                                 | Description                                                                                                          | Acceptance Criteria                                                                                                                                                                                                                          | Status                                                                                                                                                                                                                 |
| ------ | ------------------------------------- | -------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| LX-001 | Build Section Board Layout            | Implement responsive section board UI showing top-level curriculum sections, progress badges, and CTA into the tree. | 1. SvelteKit route renders board for mobile & desktop breakpoints.<br>2. Sections load from Supabase `curriculum_nodes` level 1.<br>3. Progress badge placeholder wired to mock data.<br>4. Touch interactions tested on narrow viewport.    | Closed [#1](https://github.com/mrolandas/BurBuriuok/issues/1) – trimmed launch delivered                                                                                                                               |
| LX-002 | Implement Collapsible Tree Navigation | Provide expandable hierarchy view with lazy-loaded nodes/items and prerequisite highlights.                          | 1. Tree component collapses/expands levels without reloading page.<br>2. Fetches child nodes on demand using Supabase RPC or REST.<br>3. Highlights prerequisites with badges.<br>4. Analytics event fired on node open.                     | Closed [#2](https://github.com/mrolandas/BurBuriuok/issues/2) – badges show zero until public dependency view                                                                                                          |
| LX-003 | Concept Detail Page Structure         | Compose concept view header, definitions, media carousel, and action bar using canonical concept seed.               | 1. Page consumes Supabase `concepts` record by slug.<br>2. Breadcrumb shows curriculum path.<br>3. Prerequisite/next-step drawers display stub data.<br>4. Action buttons emit events and update local state.                                | Closed [#3](https://github.com/mrolandas/BurBuriuok/issues/3) – local actions emit events; Supabase wiring continues in LX-004/LX-005; UI polish (sidebar alignment, pager spacing, breadcrumb copy) landed 2025-11-06 |
| LX-004 | Study Queue Manager                   | Build queue UI for Ready / Needs Review / Completed lists with swipe/keyboard controls.                              | 1. Queue state persisted in local store and Supabase `concept_progress`.<br>2. Interactions work on mobile & desktop.<br>3. Event logging ready for analytics.<br>4. Basic empty-state illustrations included.                               | Open [#4](https://github.com/mrolandas/BurBuriuok/issues/4)                                                                                                                                                            |
| LX-005 | Study Session Runner                  | Create timed study mode that walks through queued concepts and captures confidence responses.                        | 1. Session timer + progress HUD visible.<br>2. Confidence buttons update queue state.<br>3. End-of-session summary rendered.<br>4. Seeds analytics events for completion.                                                                    | Open [#5](https://github.com/mrolandas/BurBuriuok/issues/5)                                                                                                                                                            |
| LX-006 | Quiz Module Foundation                | Deliver learner knowledge-check workflow with modal config, multiple-choice questions, and result tracking.          | 1. Quiz modal offers section/course modes with state filters.<br>2. Multiple-choice questions cover term↔definition formats.<br>3. Per-concept quiz outcomes persisted for analytics.<br>4. Session summary and question flagging available. | Open [#9](https://github.com/mrolandas/BurBuriuok/issues/9)                                                                                                                                                            |

## Automation & Regression Guards

| ID       | Title                        | Description                                                                      | Acceptance Criteria                                                                                                                                                                                      | Status |
| -------- | ---------------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ |
| AUTO-001 | Seed Regeneration CI Check   | Add CI workflow step to run `npm run content:seed:generate` and fail on diff.    | 1. GitHub Action executes seed generation.<br>2. Workflow fails if repo dirty afterwards.<br>3. Docs updated with workflow link.<br>4. Badge added to README (optional).                                 | Done   |
| AUTO-002 | Curriculum Snapshot Job      | Automate refresh of `docs/static_info/curriculum_in_supabase.csv` in CI/nightly. | 1. Script runs `node tests/exportCurriculumTree.mjs --format csv --out docs/static_info/curriculum_in_supabase.csv`.<br>2. Job uploads artifact or commits file via bot.<br>3. Run documented in README. | Done   |
| AUTO-003 | Concept Markdown Schema Test | Validate markdown tables before seed generation to catch malformed rows.         | 1. Node script reads `docs/static_info/LBS_concepts_master.md` and validates headings.<br>2. CI runs script prior to seeds.<br>3. Failure message points to offending section.                           | Done   |

## Data & Backend

| ID     | Title                                     | Description                                                                                   | Acceptance Criteria                                                                                                                                                                          | Status                                                                                                                                                                                                                                                                                                                                              |
| ------ | ----------------------------------------- | --------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| DB-001 | Curriculum Dependency Schema Finalisation | Finalise `curriculum_dependencies` table structure, indexes, and seeding strategy.            | 1. Schema documented with columns & constraints.<br>2. Migration drafted and reviewed.<br>3. Seed builder updated to populate dependencies.<br>4. Session log updated with decision summary. | Closed [#6](https://github.com/mrolandas/BurBuriuok/issues/6)                                                                                                                                                                                                                                                                                       |
| DB-002 | Content Versioning Model                  | Define `content_versions` + `content_drafts` tables with audit fields and status transitions. | 1. ERD/diagram produced.<br>2. Migration stub created.<br>3. API contracts aligned.<br>4. Permissions annotated for Supabase policies.                                                       | Closed [#7](https://github.com/mrolandas/BurBuriuok/issues/7) – rollback API & snapshot history live; migrations 0009/0010 applied (snapshots + drafts/RLS); backend reconciles drafts; smoke test `npm run test:db002` documents lifecycle coverage; runbooks (Schema Decisions, Backend, Admin setup) refreshed and final verification run logged |
| DB-003 | Media Moderation Flow                     | Detail tables / storage policies supporting media review states and notifications.            | 1. Schema + bucket ACL documented.<br>2. Migration changes identified.<br>3. Admin UI requirements linked.<br>4. Integrates MEDIA-001/002 deliverables into Supabase policies.               | Open [#8](https://github.com/mrolandas/BurBuriuok/issues/8)                                                                                                                                                                                                                                                                                         |

> Update this document as issues are opened, and link back to the corresponding GitHub issue numbers.

## Auth & Accounts

| ID       | Title                                   | Description                                                                                          | Acceptance Criteria                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Status                                                                                                                          |
| -------- | --------------------------------------- | ---------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| AUTH-001 | Magic-Link Auth Foundation              | Configure Supabase email magic-link login, wire session handling, and expose basic sign-in surfaces. | 1. Supabase project enables passwordless email links with staging/production secrets wired through `env.js` + backend `.env`.<br>2. Frontend shows a localized magic-link request/confirmation flow and persists Supabase sessions in the shared auth store.<br>3. Backend verifies `app_role` claims on learner APIs; guests continue to read via device key.<br>4. Docs updated (`MASTER_PLAN.md`, `PERSONAS_PERMISSIONS.md`, `DEVELOPMENT_SETUP.md`) describing setup and local dev flags.      | Open [#20](https://github.com/mrolandas/BurBuriuok/issues/20) – Aligning with media reviewer roles 2025-11-17                   |
| AUTH-002 | Learner Profiles & Admin Invite Console | Create learner profile bootstrap, persist metadata, and ship an admin-only invite workflow.          | 1. `profiles` table (or equivalent view) stores learner metadata, row-level security documented and enforced.<br>2. Admin console surfaces an invite screen that sends Supabase magic links to allowed emails with localized copy.<br>3. Learner profile record auto-creates on first sign-in and exposes preferred language + optional callsign fields.<br>4. Docs updated (`PERSONAS_PERMISSIONS.md`, `ADMIN_SETUP.md`, `API_CONTRACTS.md`) plus GitHub issue template for manual invite review. | Open [#21](https://github.com/mrolandas/BurBuriuok/issues/21) – Reviewer invite UX scoping alongside media planning 2025-11-17  |
| AUTH-003 | Device-Key Coexistence & Sunset Toolkit | Monitor magic-link adoption, migrate existing device-key progress, and document the cutover plan.    | 1. Telemetry events capture login vs device-key usage and surface a minimal dashboard/report.<br>2. Migration script copies anonymous progress into authenticated profiles without data loss, including dry-run instructions.<br>3. Feature flag disables new device-key writes post-migration with documented rollback.<br>4. Appendix in `MASTER_PLAN.md` references the executed plan and links to results.                                                                                     | Open [#22](https://github.com/mrolandas/BurBuriuok/issues/22) – Cutover plan to incorporate media reviewer telemetry 2025-11-17 |

### GitHub Issue Briefs

- **AUTH-001** – Scope: enable Supabase magic-link auth, surface learner login modal, ensure backend trusts sessions. Dependencies: Supabase secrets, existing device-key middleware. Copilot readiness: high once secrets/URLs stubbed; manual validation of email template and localisation required. Docs: `MASTER_PLAN.md`, `PERSONAS_PERMISSIONS.md`, `DEVELOPMENT_SETUP.md`.
- **AUTH-002** – Scope: create learner profile persistence and admin invite UI housed in the existing admin shell. Dependencies: AUTH-001, Supabase `profiles` migration. Copilot readiness: medium (UI + DB migrations) with human review for email content. Docs: `PERSONAS_PERMISSIONS.md`, `ADMIN_SETUP.md`, `API_CONTRACTS.md`.
- **AUTH-003** – Scope: collect adoption telemetry, backfill progress, and toggle device-key writes off. Dependencies: AUTH-001/002 shipped and stable. Copilot readiness: low (requires production data handling) but automation aids migration scripts. Docs: `MASTER_PLAN.md` appendix, `SCHEMA_DECISIONS.md`, future runbook TBD.

## Admin & Moderation Interface

| ID      | Title                         | Description                                                                                                   | Acceptance Criteria                                                                                                                                                                                                                                                                                                                                                                        | Status                                                                                                                                                                                                            |
| ------- | ----------------------------- | ------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ADM-001 | Secure Admin Shell Access     | Gate `/admin` routes behind Supabase `app_role='admin'`, provide fallback messaging, and log access outcomes. | 1. SvelteKit `/admin/+layout` verifies session role and redirects/guards non-admin users.<br>2. Express middleware enforces the same role check server-side.<br>3. Friendly "access denied" screen delivered with help text for learners/contributors.<br>4. Telemetry event logged for allow/deny decisions.<br>5. Documentation updated (`PERSONAS_PERMISSIONS.md`, `ADMIN_SETUP.md`).   | Closed [#10](https://github.com/mrolandas/BurBuriuok/issues/10) – guard shipped 2025-11-06 (frontend layout + Express middleware)                                                                                 |
| ADM-002 | Concept Editor MVP            | Deliver editable Concepts table with create/edit flows, validation, and audit logging.                        | 1. Concepts grid lists term, status, section, and updated timestamp with filters.<br>2. Drawer/modal form supports create + edit with draft/publish toggle and validation shared with backend (Zod schema or equivalent).<br>3. Saves emit `content_versions` entries via API.<br>4. Unsaved-change guard implemented.<br>5. Success/failure toasts match design system.                   | Closed [#11](https://github.com/mrolandas/BurBuriuok/issues/11) – ADM-002 polish complete (filters/search, optimistic saves, status/error messaging, SectionSelect UX); history sidebar scoped for next milestone |
| ADM-003 | Moderation Queue List         | Build the media moderation list with status tabs, SLA prioritisation, and batch selection skeleton.           | 1. Queue view surfaces pending/approved/rejected tabs with counts.<br>2. Items display contributor, associated concept/node, submission age, and SLA priority badge (P0/P1/P2).<br>3. Empty/error states documented and implemented.<br>4. Bulk-selection groundwork laid (UI + store) even if final actions ship later.<br>5. Ties directly into endpoints defined in `API_CONTRACTS.md`. | Deferred [#12](https://github.com/mrolandas/BurBuriuok/issues/12) – Contributor moderation paused for admin-only MVP                                                                                              |
| ADM-004 | Moderation Notification Stubs | Instrument Slack/email logging hooks for moderation decisions per `MODERATION_SLA.md`.                        | 1. Placeholder Slack webhook + email sender functions fire when decisions occur.<br>2. Logs include SLA priority, reviewer, decision, and timestamps.<br>3. Feature flag toggles external calls vs. console logs.<br>4. Documentation updated with configuration steps.<br>5. Unit tests cover success/failure branches of the stubs.                                                      | Deferred [#13](https://github.com/mrolandas/BurBuriuok/issues/13) – Resumes when moderation queue returns                                                                                                         |
| ADM-005 | Admin Analytics Event Mapping | Define analytics events emitted by admin actions to support future dashboards.                                | 1. Event taxonomy drafted (e.g., `admin_concept_saved`, `admin_moderation_decision`).<br>2. Mapping stored in docs + shared TypeScript enum.<br>3. Integration points identified in concepts editor and moderation queue.<br>4. Success metrics appended to analytics reference document.<br>5. Ready for instrumentation once ADM-002/ADM-003 land.                                       | Open [#14](https://github.com/mrolandas/BurBuriuok/issues/14)                                                                                                                                                     |

## Media Intake & Embeds

| ID        | Title                              | Description                                                                                              | Acceptance Criteria                                                                                                                                                                                                                                                                                                                                          | Status                                                                                                                                          |
| --------- | ---------------------------------- | -------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| MEDIA-001 | Supabase Media Storage Foundation  | Define buckets, ACL policies, and database migrations (`media_assets`, optional `media_asset_variants`). | 1. Migration scripts created and reviewed (tables, indexes, enum updates).<br>2. Bucket configuration documented (single admin bucket with RLS + signed URL policy).<br>3. Policies cover admin upload/read paths.<br>4. Docs updated (`SUPABASE.md`, `SCHEMA_DECISIONS.md`) with runbooks and seed instructions.                                            | Open [#15](https://github.com/mrolandas/BurBuriuok/issues/15) – Migration 0011 applied 2025-11-18; notice guards + `npm run test:media001` pass |
| MEDIA-002 | Admin Media API Surface            | Implement Express routes for admin uploads, metadata, and signed URL retrieval.                          | 1. `POST /api/v1/admin/media` accepts metadata, enforces size/type limits, and writes to storage/db.<br>2. `GET /api/v1/admin/media` (list) and `GET /admin/media/:id/url` return signed URLs.<br>3. Error states documented in `API_CONTRACTS.md`.<br>4. Contract tests cover success, validation, and quota failures.                                      | Open [#16](https://github.com/mrolandas/BurBuriuok/issues/16) – Implementation checklist drafted 2025-11-17                                     |
| MEDIA-003 | Contributor Upload UX              | Ship frontend uploader (flagged) with progress UI, metadata form, and error handling.                    | 1. Upload modal/component supports file selection, progress, cancellation, and retries.<br>2. Metadata fields (type, language, attribution, notes) validated client-side with shared schema.<br>3. Feature flag toggles visibility for learners/admin preview.<br>4. Manual QA checklist added to `TESTING_GUIDE.md` for smoke coverage.                     | Deferred [#17](https://github.com/mrolandas/BurBuriuok/issues/17) – Paused until contributor scope resumes                                      |
| MEDIA-004 | Admin Moderation Queue Upgrade     | Enhance admin console to review media submissions with SLA indicators and decision drawer.               | 1. Queue list pulls from new media endpoints, surfaces SLA badges, filters, search.<br>2. Detail drawer shows previews (image/video/embed) with approve/reject/request-changes actions.<br>3. Decisions trigger dispatcher stub and audit log entries.<br>4. Docs updated (`ADMIN_SETUP.md`, `FRONTEND.md`) with new workflows.                              | Deferred [#18](https://github.com/mrolandas/BurBuriuok/issues/18) – Obsolete for admin-only MVP                                                 |
| MEDIA-005 | YouTube & External Embed Rendering | Allow approved external media (YouTube/Vimeo etc.) to appear on concept pages with sanitised embeds.     | 1. Schema stores provider + video IDs with validation (whitelisted hosts, stripped params).<br>2. Concept view renders accessible embed component with fallbacks and admin preview.<br>3. Security review logged (sandbox attributes, content policy, clipboard hygiene).<br>4. Documentation updated across references and usage demo added to admin guide. | Open [#19](https://github.com/mrolandas/BurBuriuok/issues/19) – Admin-curated provider plan drafting 2025-11-17                                 |
